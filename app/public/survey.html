<!DOCTYPE html>
<html>
<head>
	<title>Social Austin</title>
	<!--gooogle font-->
	<link href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Merriweather:700" rel="stylesheet">
	<!--bootstrap-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<!--css styling -->
	<link rel="stylesheet" type="text/css" href="../css/style.css">
</head>
<body>
<!-- sticky header -->
<img src="img/bg.png" id="banner">
<div class="container">
			<div class="jumbotron">
				<hr>
				<br>
				<h2 class="text-center jumboh2"><span>"</span>Welcome to <strong>Social Austin</strong>. Answer a few question to find friends in Austin<span>"</span></h2>
				<br>
		<div class="Btn startBtn"><a href="/home">LETS GO HOME</div></a>
		<div class="container" id="surveyForm">
		<h2>Survey Questions</h2>
    <hr>

    <h3>About You</h3>
   	<h4>Name (<strong>Required</strong>)</h4>
    <input type="text" id="name" class="form-control" required>
   	<h4>Link to Photo Image (<strong>Required</strong>)</h4>
    <input type="text" id="photo" class="form-control" required>
    <hr>

    <h3>Question 1</h3>
    <h4>Do you perfer Austin coffee shops over chain coffee shops (<i>i.e. Starbucks</i>)?</h4>
    <select class="chosen-select" id="q1">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 2</h3>
    <h4>Your creativity is sparked by networking at informal meetups such as Rainey Street?</h4>
    <select class="chosen-select" id="q2">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 3</h3>
    <h4>Are you always stressed or find yourself with anxiety if you are not venturing Austin?</h4>
    <select class="chosen-select" id="q3">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 4</h3>
    <h4>Do you like reading books at Mozarts or Lake Travis?</h4>
    <select class="chosen-select" id="q4">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 5</h3>
    <h4>Are you happier when you are around people?</h4>
    <select class="chosen-select" id="q5">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 6</h3>
    <h4>Do you enjoy farm to table meals at Barley Swine or any top rated Austin restaurants?</h4>
    <select class="chosen-select" id="q6">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 7</h3>
    <h4>Do you enjoy vacationing solo than ziplining around Austin?</h4>
    <select class="chosen-select" id="q7">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 8</h3>
    <h4>Is everyday the best day of your life?</h4>
    <select class="chosen-select" id="q8">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3><Question 9</h3>
    <h4>When you are around more people do you tend to get more competitive (<i>i.e. working out on Townlake</i>)?</h4>
    <select class="chosen-select" id="q9">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <h3>Question 10</h3>
    <h4>Do you feel weighed down by the people around you?</h4>
    <select class="chosen-select" id="q10">
      <option value="">Pick an option</option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <br>
    <br>
	<!-- Submit Button -->
	 <div class="submit">
    <button type="submit" class="Btn" id="submit" ><i class="fa fa-check-circle" aria-hidden="true"></i>Submit</button>
     </div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript">
	//once user clicks submit, check if user filled in all inputs and respond with a new friend match
  $(".submit").on("click", function(event)
	{
    event.preventDefault();
    //validateForm is a function where it checks for all fields and restaurants
		//true if all inputs are not empty
		//false if there is an empty field
    function validateForm()
		{
      var isValid = true;
			//checks the name and photo field
      $(".form-control").each(function()
			{
        if ($(this).val() === "") {
          isValid = false;
        }
      });
			//checks the question fields
      $(".chosen-select").each(function()
			{
        if ($(this).val() === "") {
          isValid = false;
        }
      });
      return isValid;
    }

	//if all fields entered
	if (validateForm())
	{
    //create a newFriend object for the API
    var newFriend =
		{
      name: $("#name").val().trim(),
      photo: $("#photo").val().trim(),
      scores: [
          $("#q1").val(),
          $("#q2").val(),
          $("#q3").val(),
          $("#q4").val(),
          $("#q5").val(),
          $("#q6").val(),
          $("#q7").val(),
          $("#q8").val(),
          $("#q9").val(),
          $("#q10").val()
        ]
    };
		//sends a post request to compare the newFriend object with the current friend List
		//to determine the most compatiable friend
    $.post("/api/data", newFriend, function(data)
      {//display compatible friend name and photo
				$("#displayName").text("NAME: "+ data.name);
				$("#displayImg").attr("src", data.photo);
				//once done go ahead and clear out the values for the user
				$("#name").val("");
				$("#photo").val("");
				//then display the new friend via modal
				$("#myModal").modal("show");
      });
			}
		else
		{//user did not fill out all the fields, go ahead and tell user
			//to complete form before submitting
			alert("Please answer all questions before submitting!");
		}
  });
</script>
    </div>
</div>

  	  <p><a href="/api/data"><div class="Btn footerButton">API Friend List</div></a>  <a href="https://github.com/viviann224/Social-Austin"><div class="Btn footerButton">GITHUB Repo</div></a></p> <div id="copyright">
        <a href="https://viviann224.github.io/" target="_blank"><img src="/img/logo.png" class="imglogo"></a> <a href="https://viviann224.github.io/" target="_blank">Vivian Tuong Nguyen</a> &copy; 2018. All Rights Reserved.</div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="exampleModalLabel">BEST MATCH</h2>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3 id="displayName"></h3>
        <br>
        <img id="displayImg">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

</body>
</html>
